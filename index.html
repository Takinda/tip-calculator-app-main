<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" href="./dist/output.css">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">

  <title>Frontend Mentor | Tip calculator app</title>
  <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
  </style>
</head>
<body class="flex flex-col items-center justify-evenly min-h-screen relative bg-very-light-grayish p-4 md:p-0">
  <img src="./images/logo.svg" alt="" class="mb-8 md:mb-0">
  
  <main class="flex flex-col md:flex-row items-center justify-center w-full max-w-sm md:max-w-4xl md:h-125 bg-white rounded-2xl md:rounded-4xl p-6 md:p-10 shadow-[5px_5px_40px_hsl(172,67%,45%,0.1)] md:shadow-[10px_0px_100px_hsl(172,67%,45%,0.2)] gap-6 md:gap-10">
    
    <!--Bill part-->
    <div class="flex flex-col items-center justify-between w-full md:w-1/2 md:h-[95%] space-y-6 md:space-y-8">
      
      <!-- Bill input -->
      <div class="flex flex-col relative w-full gap-2 md:gap-3">
        <label for="bill" class="w-full font-bold block text-grayish text-sm md:text-base">Bill</label>
        <img src="./images/icon-dollar.svg" class="absolute w-3 top-9 md:top-12.5 left-3.5" alt="">
        <input type="number" class="w-full bg-white-grayish h-12 rounded-[5px] text-xl md:text-2xl font-bold text-right outline-primary text-dark pr-3.5 placeholder:text-grayish placeholder:opacity-50" placeholder="0">
      </div>
      
      <!--Tip selector-->
      <div class="w-full">
        <label for="tip" class="w-full font-bold block text-grayish mb-3 text-sm md:text-base">Select Tip %</label>
        <div class="w-full grid grid-cols-2 md:grid-cols-3 gap-3">
          <input type="button" value="5%" class="bg-dark h-12 rounded-[5px] text-xl md:text-2xl font-bold text-center outline-primary text-white cursor-pointer hover:bg-[#9fe8df] hover:text-dark active:bg-primary active:text-dark">
          <input type="button" value="10%" class="bg-dark h-12 rounded-[5px] text-xl md:text-2xl font-bold text-center outline-primary text-white cursor-pointer hover:bg-[#9fe8df] hover:text-dark active:bg-primary active:text-dark">
          <input type="button" value="15%" class="bg-dark h-12 rounded-[5px] text-xl md:text-2xl font-bold text-center outline-primary text-white cursor-pointer hover:bg-[#9fe8df] hover:text-dark active:bg-primary active:text-dark">
          <input type="button" value="25%" class="bg-dark h-12 rounded-[5px] text-xl md:text-2xl font-bold text-center outline-primary text-white cursor-pointer hover:bg-[#9fe8df] hover:text-dark active:bg-primary active:text-dark">
          <input type="button" value="50%" class="bg-dark h-12 rounded-[5px] text-xl md:text-2xl font-bold text-center outline-primary text-white cursor-pointer hover:bg-[#9fe8df] hover:text-dark active:bg-primary active:text-dark">
          <input type="number" placeholder="Custom" class="bg-white-grayish h-12 rounded-[5px] text-xl md:text-2xl font-bold text-center md:text-right md:pr-5 outline-primary text-dark placeholder:opacity-70 placeholder:text-dark">
        </div>
      </div>
      
      <!--Number of people-->
      <div class="flex flex-col relative gap-2 md:gap-3 w-full">
        <label for="people" class="w-full font-bold block text-grayish text-sm md:text-base">Number of People</label>
        <img src="./images/icon-person.svg" class="absolute w-3 top-9 md:top-12.5 left-3.5" alt="">
        <input type="number" class="w-full bg-white-grayish h-12 rounded-[5px] text-xl md:text-2xl font-bold text-right outline-primary text-dark pr-3.5" placeholder="0">
      </div>
    </div>

    <!--Tip calculation part-->
    <div class="flex flex-col items-center justify-between w-full md:w-1/2 bg-dark md:h-full rounded-xl text-white p-6 md:p-10 mt-6 md:mt-0">
      
      <!-- Results display -->
      <div class="w-full space-y-6 md:space-y-10">
        
        <!-- Tip amount row -->
        <div class="flex justify-between items-center">
          <div>
            <div class="text-sm md:text-base">Tip Amount</div>
            <div class="text-xs text-light-grayish font-black">/ person</div>
          </div>
          <div class="text-3xl md:text-[48px] font-bold text-primary">$<span class="tip-amount text-primary">0.00</span></div>
        </div>
        
        <!-- Total row -->
        <div class="flex justify-between items-center">
          <div>
            <div class="text-sm md:text-base">Total</div>
            <div class="text-xs text-light-grayish font-black">/ person</div>
          </div>
          <div class="text-3xl md:text-[48px] font-bold text-primary">$<span class="total-amount text-primary">0.00</span></div>
        </div>
      </div>
      
      <!-- Reset button -->
      <button class="bg-[#9fe8df] w-full h-12 rounded-[5px] cursor-not-allowed active:cursor-pointer active:opacity-100 text-lg md:text-xl text-dark opacity-20 font-black mt-8 md:mt-0">RESET</button>
    </div>
    
  </main>
  
  <footer class="attribution mt-8 md:mt-0">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">Ghanim Ali</a>.
  </footer>

  <script>
    const billInput = document.querySelector('input[placeholder="0"]');
    const customTipInput = document.querySelector('input[placeholder="Custom"]');
    const peopleInput = document.querySelectorAll('input[placeholder="0"]')[1];
    const tipButtons = document.querySelectorAll('input[type="button"]');
    const tipAmountDisplay = document.querySelector('.tip-amount');
    const totalAmountDisplay = document.querySelector('.total-amount');
    const resetButton = document.querySelector('button');

    let selectedTip = null;
    let activeTipButton = null;
      
    function calculate() {
      const bill = parseFloat(billInput.value);
      const people = parseInt(peopleInput.value);
      const tipPercent = selectedTip !== null ? selectedTip : parseFloat(customTipInput.value);
    
      if (bill > 0 && people > 0 && !isNaN(tipPercent)) {
        const tipTotal = (bill * tipPercent) / 100;
        const tipPerPerson = tipTotal / people;
        const totalPerPerson = (bill + tipTotal) / people;
      
        tipAmountDisplay.textContent = tipPerPerson.toFixed(2);
        totalAmountDisplay.textContent = totalPerPerson.toFixed(2);
      
        resetButton.classList.remove('opacity-20', 'cursor-not-allowed');
        resetButton.classList.add('cursor-pointer');
      }
    }
    
    tipButtons.forEach((btn) => {
      btn.addEventListener('click', () => {
        if (activeTipButton) {
          activeTipButton.classList.remove('bg-primary', 'text-dark');
          activeTipButton.classList.add('bg-dark', 'text-white');
        }
      
        btn.classList.remove('bg-dark', 'text-white');
        btn.classList.add('bg-primary', 'text-dark');
      
        activeTipButton = btn;
        selectedTip = parseFloat(btn.value.replace('%', ''));
        customTipInput.value = '';
        calculate();
      });
    });
    
    customTipInput.addEventListener('input', () => {
      selectedTip = null;
    
      if (activeTipButton) {
        activeTipButton.classList.remove('bg-primary', 'text-dark');
        activeTipButton.classList.add('bg-dark', 'text-white');
        activeTipButton = null;
      }
    
      calculate();
    });
    
    [billInput, peopleInput].forEach(input => {
      input.addEventListener('input', calculate);
    });
    
    resetButton.addEventListener('click', () => {
      billInput.value = '';
      peopleInput.value = '';
      customTipInput.value = '';
      selectedTip = null;
    
      if (activeTipButton) {
        activeTipButton.classList.remove('bg-primary', 'text-dark');
        activeTipButton.classList.add('bg-dark', 'text-white');
        activeTipButton = null;
      }
    
      tipAmountDisplay.textContent = '0.00';
      totalAmountDisplay.textContent = '0.00';
    
      resetButton.classList.add('opacity-20', 'cursor-not-allowed');
      resetButton.classList.remove('cursor-pointer');
    });

  </script>
</body>
</html>